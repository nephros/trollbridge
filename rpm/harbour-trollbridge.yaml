Name: harbour-trollbridge
Summary: TRaveller's OLympus Bridge
Version: 0.2.0
Release: 1
Group: Applications/Multimedia
License: MIT
Sources:
    - "%{name}-%{version}.tar.gz"
Description: |
    TRaveller's OLympus Bridge is an app for controlling Olympus OM-D/PEN/Air cameras with integrated WiFi.
    
    %if "%{?vendor}" == "chum"
    PackageName: Troll Bridge
    Type: desktop-application
    DeveloperName: Bundyo, nephros
    DeveloperLogin: nephros
    PackagerName: nephros
    Categories:
     - Media
    Custom:
      Repo: %{url}
    Icon: %{url}/master/icons/svgs/%{name}.svg
    Url:
      Homepage: %{url}
      Help: %{url}/discussions
      Bugtracker: %{url}/issues
      Donations: https://openrepos.net/donate
    %endif

BuildArch: noarch
Macros:
  - 'py_setup;setup.py'
Requires:
    - libsailfishapp-launcher
    - python3-base
    # python3dist(olympuswifi)
    - python3dist(pillow)
    - python3dist(requests)
    - qml(Nemo.DBus)
    - qml(Nemo.FileManager)
    - qml(Sailfish.Gallery)
    - qml(Sailfish.WebView)
PkgBR:
    - pkgconfig
    - qt5-qttools-linguist
    - qt5-qmake
    - sailfish-svg2png
    - qml-rpm-macros
    - desktop-file-utils
    - python3-setuptools
    - python3-rpm-macros
PkgConfigBR:
    - python3
RpmLintIgnore:
  - 'summary-too-long'
  - 'no-changelogname-tag'
  - 'invalid-url'
  - 'desktopfile-without-binary'
  - 'explicit-lib-dependency'
Configure: none
Builder: qmake5
NoIconCache: true
Files:
  - '%{_datadir}/applications/*.desktop'
  - '%dir %{_datadir}/%{name}'
  - '%{_datadir}/%{name}/qml/'
  - '%pycached %{_datadir}/%{name}/python/*.py'
  - '%pycached %{_datadir}/%{name}/python/olympuswifi/*.py'
  - '%{_datadir}/%{name}/translations/'
  - '%{_datadir}/icons/hicolor/*/apps/%{name}.png'
  - '%{_datadir}/icons/hicolor/*/apps/%{name}.svg'


